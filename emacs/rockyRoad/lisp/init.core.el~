;; Set some opitons for straight
(setq straight-use-package-by-default t)
(setq straight-vs-git-default-clone-depth 1)
(setq straight-recipes-gnu-ela-use-mirror t)
(setq straight-check-for-modifications nil)
(setq use-package-always-defer t)

;; Bootstrap straight
(defvar boostrap-version)
(let* ((straight-repo-dir
        (expand-file-name "straight/repos" user-emacs-directory))
       (bootstrap-file
        (concat straight-repo-dir "/straight.el/bootstrap.el"))
       (bootstrap-version 6))
  (unless (file-exists-p bootstrap-file)
    (shell-command
     (concat
      "mkdir -p " straight-repo-dir " && "
      "git -C " straight-repo-dir " clone "
      "https://github.com/raxod502/straight.el.git && "
      "git -C " straight-repo-dir "checkout 2d407bc")))
  (load bootstrap-file nil 'nomessage))
(straight-use-package 'use-package)
(setq comp-deferred-compilation-black-list nil)
